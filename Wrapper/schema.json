"""
Adds node to to OPC UA server address space.

If value argument is given, adds a variable node to OPC UA server.
Otherwise, adds a folder type node.

Writable is true by default.

Can return specified fields of added node.
"""
type AddNode {
  """Display name"""
  name: String

  """Variable that contains value related attribute fields"""
  variable: OPCUAVariable

  """Node id for of the node on OPC UA server"""
  nodeId: String

  """Server name (only used in this API). Unique within this API."""
  server: String

  """States if node is writable by clients"""
  writable: Boolean

  """True if operation was successful"""
  ok: Boolean
}

"""Configure a new server to be accessed by the GraphQL API."""
type AddServer {
  """Server name (only used in this API). Unique within this API."""
  name: String

  """URL to the OPC UA server"""
  endPointAddress: String

  """True if operation was successful"""
  ok: Boolean
}

"""
Clear automatically created subscriptions between the GraphQL API and OPC UA server.
"""
type ClearServerSubscriptions {
  """True if operation was successful"""
  ok: Boolean
}

"""
The `DateTime` scalar type represents a DateTime
value as specified by
[iso8601](https://en.wikipedia.org/wiki/ISO_8601).
"""
scalar DateTime

"""
Deletes node from OPC UA address space.

If recursive is true, delete node and its sub nodes from
OPC UA server (default = true, recommended).
If recursive is false, sub nodes of deleted node can be
left floating without references in the address space.
"""
type DeleteNode {
  """True if operation was successful"""
  ok: Boolean
}

"""Delete a server from API's accessable servers."""
type DeleteServer {
  """True if operation was successful"""
  ok: Boolean
}

"""Queries for modifying data on OPC UA server """
type Mutation {
  """
  
      Set value of an OPC UA variable node.
  
      Value has to be of correct dataType for the target variable node.
      
  """
  setValue(
    """Node id for of the node on OPC UA server"""
    nodeId: String!

    """Server name (only used in this API). Unique within this API."""
    server: String!

    """Node value"""
    value: OPCUADataVariable!
  ): SetNodeValue

  """
  
      Set description of an OPC UA node.
  
      Description must be a string.
      
  """
  setDescription(
    """Node description"""
    description: OPCUADataVariable!

    """Node id for of the node on OPC UA server"""
    nodeId: String!

    """Server name (only used in this API). Unique within this API."""
    server: String!
  ): SetNodeDescription

  """
  
      Adds node to to OPC UA server address space.
  
      If value argument is given, adds a variable node to OPC UA server.
      Otherwise, adds a folder type node.
  
      Writable is true by default.
  
      Can return specified fields of added node.
      
  """
  addNode(
    """Display name"""
    name: String!

    """Node id for of the node on OPC UA server"""
    nodeId: String!

    """Node id of parent node"""
    parentId: String!

    """Server name (only used in this API). Unique within this API."""
    server: String!

    """Node value"""
    value: OPCUADataVariable

    """States if node is writable by clients"""
    writable: Boolean
  ): AddNode

  """
  
      Deletes node from OPC UA address space.
  
      If recursive is true, delete node and its sub nodes from
      OPC UA server (default = true, recommended).
      If recursive is false, sub nodes of deleted node can be
      left floating without references in the address space.
      
  """
  deleteNode(
    """Node id for of the node on OPC UA server"""
    nodeId: String!

    """If operation should be completed recursively"""
    recursive: Boolean

    """Server name (only used in this API). Unique within this API."""
    server: String!
  ): DeleteNode

  """
  
      Configure a new server to be accessed by the GraphQL API.
      
  """
  addServer(
    """URL to the OPC UA server"""
    endPointAddress: String!

    """Server name (only used in this API). Unique within this API."""
    name: String!
  ): AddServer

  """
  
      Delete a server from API's accessable servers.
      
  """
  deleteServer(
    """Server name (only used in this API). Unique within this API."""
    name: String!
  ): DeleteServer

  """
  
      Clear automatically created subscriptions between the GraphQL API and OPC UA server.
      
  """
  clearServerSubcriptions(
    """Server name (only used in this API). Unique within this API."""
    name: String!
  ): ClearServerSubscriptions
}

"""
Custom scalar type that accepts all common data types.

Formats datetime objects into JSONifiable format.
Supports multiple different value types
(int, float, datetime, string(without '.'), boolean).
"""
scalar OPCUADataVariable

"""
Represents an OPC UA node with relevant attributes.

API only retrieves the specified attribute fields from the OPC UA server.
"""
type OPCUANode {
  """Display name"""
  name: String

  """Node description"""
  description: String

  """Node class"""
  nodeClass: String

  """Variable that contains value related attribute fields"""
  variable: OPCUAVariable

  """Attempts to parse node id for a path to parent node"""
  path: String

  """Node id for of the node on OPC UA server"""
  nodeId: String

  """Returns nodes hierarchically below this node"""
  subNodes: [OPCUANode]

  """
  
      Recursively find all variable sub nodes.
      Returns specified fields of found variable nodes.
      Takes a while to fetch, request this field only if necessary!
      
  """
  variableSubNodes: [OPCUANode]

  """Server name (only used in this API). Unique within this API."""
  server: String
}

"""Information on configured OPC UA servers for this API."""
type OPCUAServer {
  """Server name (only used in this API). Unique within this API."""
  name: String

  """URL to the OPC UA server"""
  endPointAddress: String
  subscriptions: [String]
}

"""Represents an OPC UA node DataVariable with relevant attributes"""
type OPCUAVariable {
  """Node value"""
  value: OPCUADataVariable

  """Data type of the value"""
  dataType: String

  """Source timestamp for the value"""
  sourceTimestamp: DateTime

  """Status code for the value quality"""
  statusCode: String
}

"""Query for fetching data from OPC UA server nodes."""
type Query {
  """
  Get attributes of an OPC UA node in addition to some potentially helpful fields
  """
  node(
    """Server name (only used in this API). Unique within this API."""
    server: String!

    """Node id for of the node on OPC UA server"""
    nodeId: String!
  ): OPCUANode

  """Get configured servers' info"""
  servers: [OPCUAServer]
}

"""
Set description of an OPC UA node.

Description must be a string.
"""
type SetNodeDescription {
  """Node description"""
  description: String

  """True if operation was successful"""
  ok: Boolean
}

"""
Set value of an OPC UA variable node.

Value has to be of correct dataType for the target variable node.
"""
type SetNodeValue {
  """Variable that contains value related attribute fields"""
  variable: OPCUAVariable

  """True if operation was successful"""
  ok: Boolean
}

